<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CTF Zone - Nh·∫≠p M√¥n</title>
    <style>
        /* C·∫•u h√¨nh giao di·ªán chung */
        body { background-color: #0d1117; color: #c9d1d9; font-family: 'Courier New', monospace; padding: 20px; line-height: 1.6; }
        .container { max-width: 800px; margin: 0 auto; padding-bottom: 50px; }
        
        /* Ph·∫ßn ti√™u ƒë·ªÅ */
        header { text-align: center; margin-bottom: 30px; border-bottom: 1px solid #30363d; padding-bottom: 20px; }
        h1 { color: #58a6ff; margin: 0; }
        
        /* Ph·∫ßn l√Ω thuy·∫øt (Intro) */
        .intro-box {
            background-color: #161b22;
            border-left: 5px solid #1f6feb;
            padding: 20px;
            margin-bottom: 40px;
            border-radius: 0 6px 6px 0;
        }
        .intro-box h2 { margin-top: 0; color: #58a6ff; }
        .intro-box ul { padding-left: 20px; }
        .intro-box li { margin-bottom: 10px; }
        
        /* Ph·∫ßn th·ª≠ th√°ch (Challenges) */
        .challenge { 
            background-color: #161b22; 
            border: 1px solid #30363d; 
            padding: 20px; 
            border-radius: 6px; 
            margin-bottom: 20px; 
            position: relative;
        }
        .challenge h3 { margin-top: 0; color: #79c0ff; }
        
        /* Video Container */
        .video-container {
            margin: 15px 0;
            text-align: center; /* CƒÉn gi·ªØa video */
        }
        .video-container iframe {
            max-width: 100%; /* Responsive cho ƒëi·ªán tho·∫°i */
            border-radius: 4px;
            border: 1px solid #30363d;
        }
        
        /* Input v√† Button */
        input { 
            background: #0d1117; border: 1px solid #30363d; color: white; 
            padding: 10px; width: 60%; font-family: inherit; border-radius: 4px;
        }
        input.solved { border-color: #238636; color: #238636; font-weight: bold; background: #0d1117; }
        
        button { 
            background: #238636; color: white; border: none; 
            padding: 10px 20px; cursor: pointer; border-radius: 4px; font-weight: bold;
            margin-left: 10px;
        }
        button:hover { background: #2ea043; }
        button:disabled { background: #30363d; color: #8b949e; cursor: not-allowed; }
        
        /* Th√¥ng b√°o k·∫øt qu·∫£ */
        .result { margin-top: 15px; font-weight: bold; }
        .correct { color: #3fb950; }
        .wrong { color: #f85149; }
        
        /* N√∫t chuy·ªÉn level v√† Reset */
        .next-level-btn {
            display: block; text-align: center; margin-top: 40px; padding: 15px;
            background: #1f6feb; color: white; text-decoration: none; font-weight: bold; border-radius: 6px;
        }
        .next-level-btn:hover { background: #388bfd; }
        
        .reset-btn {
            float: right;
            background: transparent; border: 1px solid #da3633; color: #da3633;
            font-size: 0.8em; padding: 5px 10px; cursor: pointer;
        }
    </style>
</head>
<body>

<div class="container">
    <button onclick="resetGame()" class="reset-btn">üîÑ Reset D·ªØ li·ªáu</button>
    
    <header>
        <h1>üö© CTF TRAINING ZONE</h1>
        <p>S√¢n ch∆°i th·ª±c h√†nh An to√†n th√¥ng tin cho ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu</p>
    </header>

    <div class="intro-box">
        <h2>üî∞ Ki·∫øn th·ª©c c∆° b·∫£n</h2>
        <p><strong>1. CTF l√† g√¨?</strong>: L√† cu·ªôc thi C∆∞·ªõp c·ªù (Capture The Flag), n∆°i b·∫°n ƒë√≥ng vai hacker t√¨m l·ªói b·∫£o m·∫≠t.</p>
        <p><strong>2. M·ª•c ƒë√≠ch</strong>: R√®n luy·ªán t∆∞ duy b·∫£o m·∫≠t v√† k·ªπ nƒÉng IT.</p>
        <p><strong>3. C√°ch ch∆°i</strong>: T√¨m chu·ªói k√Ω t·ª± b√≠ m·∫≠t (Flag) c√≥ d·∫°ng <code>CTF{...}</code> v√† nh·∫≠p v√†o √¥ ƒë√°p √°n.</p>
    </div>

    <div class="challenge">
        <h3>Level 1: D·∫•u v·∫øt tr√™n ƒë∆∞·ªùng d·∫´n</h3>
        <p>G·ª£i √Ω: Flag ƒëang n·∫±m ngay tr√™n <strong>URL</strong> (thanh ƒë·ªãa ch·ªâ) c·ªßa trang web n√†y.</p>
        
        <div>
            <input type="text" id="ans1" placeholder="Nh·∫≠p Flag (VD: CTF{...})">
            <button id="btn1" onclick="check(1)">Ki·ªÉm tra</button>
        </div>
        <div id="res1" class="result"></div>
    </div>

    <div class="challenge">
        <h3>Level 2: M√£ ngu·ªìn kh√¥ng n√≥i d·ªëi</h3>
        <p>Flag ƒë∆∞·ª£c gi·∫•u trong m√£ ngu·ªìn HTML (Source Code). H√£y "View Source" ƒë·ªÉ t√¨m n√≥.</p>
        
        <div class="video-container">
            <p style="font-size: 0.9em; color: #8b949e; margin-bottom: 5px;">
                üí° <strong>M·∫πo:</strong> N·∫øu d√πng ƒëi·ªán tho·∫°i, h√£y xem h∆∞·ªõng d·∫´n c√°ch View Source t·∫°i ƒë√¢y:
            </p>
            <iframe width="560" height="315" src="https://www.youtube.com/watch?v=vBgOoNSBxDc" 
                title="H∆∞·ªõng d·∫´n xem Source Code tr√™n Android" frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                allowfullscreen>
            </iframe>
        </div>
        
        <div>
            <input type="text" id="ans2" placeholder="Nh·∫≠p Flag...">
            <button id="btn2" onclick="check(2)">Ki·ªÉm tra</button>
        </div>
        <div id="res2" class="result"></div>
    </div>

    <a href="level3.html" class="next-level-btn">üëâ ƒêI TI·∫æP ƒê·∫æN LEVEL 3 (ADVANCED)</a>
</div>

<script>
    const answers = {
        1: "CTF{nhin_len_thanh_url_ki}",
        2: "CTF{html_source_code_is_fun}"
    };

    window.onload = function() {
        // T·ª± ƒë·ªông th√™m Flag v√†o URL cho c√¢u 1
        const urlParams = new URLSearchParams(window.location.search);
        if (!urlParams.has('token')) {
            var newurl = window.location.protocol + "//" + window.location.host + window.location.pathname + '?token=CTF{nhin_len_thanh_url_ki}';
            window.history.pushState({path:newurl},'',newurl);
        }
        loadProgress();
    };

    function check(level) {
        let input = document.getElementById('ans'+level).value.trim();
        let resBox = document.getElementById('res'+level);
        
        if (input === answers[level]) {
            markSolved(level);
        } else {
            resBox.innerHTML = "Sai r·ªìi! ‚ùå H√£y th·ª≠ l·∫°i.";
            resBox.className = "result wrong";
        }
    }

    function markSolved(level) {
        localStorage.setItem('ctf_level_' + level, 'solved');
        updateUI(level);
    }

    function updateUI(level) {
        let input = document.getElementById('ans' + level);
        let btn = document.getElementById('btn' + level);
        let resBox = document.getElementById('res' + level);

        input.value = answers[level];
        input.classList.add('solved');
        input.disabled = true;
        btn.innerText = "ƒê√£ xong";
        btn.disabled = true;
        
        resBox.innerHTML = "Ch√≠nh x√°c! ‚úÖ";
        resBox.className = "result correct";
    }

    function loadProgress() {
        for (let i = 1; i <= 2; i++) {
            if (localStorage.getItem('ctf_level_' + i) === 'solved') {
                updateUI(i);
            }
        }
    }

    function resetGame() {
        if(confirm("X√≥a to√†n b·ªô ti·∫øn ƒë·ªô?")) {
            localStorage.clear();
            location.reload();
        }
    }
</script>

</body>
</html>
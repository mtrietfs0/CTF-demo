<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CTF Zone - Kh·ªüi ƒë·ªông</title>
    <style>
        body { 
            background-color: #0d1117; 
            color: #c9d1d9; 
            font-family: 'Courier New', Courier, monospace; 
            padding: 20px; 
            line-height: 1.6; 
        }
        .container { 
            max-width: 800px; 
            margin: 0 auto; 
            padding-bottom: 80px; 
        }
        
        /* HEADER */
        header { text-align: center; border-bottom: 1px solid #30363d; margin-bottom: 30px; }
        h1 { color: #58a6ff; text-transform: uppercase; letter-spacing: 2px; }
        
        .intro-box {
            background-color: #161b22;
            border-left: 5px solid #1f6feb;
            padding: 20px;
            margin-bottom: 40px;
            border-radius: 4px;
        }
        .intro-box h3 { color: #58a6ff; margin-top: 15px; margin-bottom: 5px; }
        .intro-box p { margin-top: 5px; }
        .intro-box ul { padding-left: 20px; margin-top: 5px; }
        .intro-box li { margin-bottom: 5px; }
        .intro-box code { background: #30363d; padding: 2px 5px; border-radius: 3px; color: #79c0ff; }

        .challenge { 
            background-color: #161b22; 
            border: 1px solid #30363d; 
            padding: 20px; 
            border-radius: 6px; 
            margin-bottom: 30px; 
            position: relative;
        }
        .challenge h3 { margin-top: 0; color: #79c0ff; border-bottom: 1px dashed #30363d; padding-bottom: 10px; }
        
        .video-wrapper {
            background: black;
            padding: 10px;
            border-radius: 4px;
            margin: 15px 0;
            text-align: center;
            border: 1px solid #30363d;
        }
        video {
            width: 100%;
            max-height: 400px;
            outline: none;
        }

        input { 
            background: #0d1117; border: 1px solid #30363d; color: white; 
            padding: 12px; width: 60%; font-family: inherit; border-radius: 4px; outline: none;
        }
        input:focus { border-color: #58a6ff; }
        input.solved { border-color: #238636; color: #238636; font-weight: bold; background: #0d1117; }
        
        button { 
            background: #238636; color: white; border: none; 
            padding: 12px 25px; cursor: pointer; border-radius: 4px; font-weight: bold;
            margin-left: 10px; transition: 0.2s;
        }
        button:hover { background: #2ea043; }
        button:disabled { background: #21262d; color: #484f58; cursor: not-allowed; }
        
        .result { margin-top: 15px; font-weight: bold; min-height: 24px; }
        .correct { color: #3fb950; text-shadow: 0 0 5px #3fb950; }
        .wrong { color: #f85149; }
        
        .reset-btn {
            float: right; background: transparent; border: 1px solid #da3633; color: #da3633;
            font-size: 0.8em; padding: 5px 10px; margin-bottom: 10px; cursor: pointer;
        }
        .reset-btn:hover { background: #da3633; color: white; }

        .next-level-btn {
            display: block; text-align: center; margin-top: 40px; padding: 20px;
            background: #1f6feb; color: white; text-decoration: none; font-weight: bold; 
            border-radius: 6px; font-size: 1.2em;
        }
        .next-level-btn:hover { background: #388bfd; box-shadow: 0 0 15px #1f6feb; }
    </style>
</head>
<body>

<div class="container">
    <button onclick="resetGame()" class="reset-btn">üîÑ Reset Game</button>
    
    <header>
        <h1>üö© CTF TRAINING ZONE</h1>
        <p>S√¢n ch∆°i nh·∫≠p m√¥n An to√†n th√¥ng tin</p>
    </header>

    <div class="intro-box">
        <h3>1. CTF l√† g√¨?</h3>
        <p>CTF (vi·∫øt t·∫Øt c·ªßa <strong>Capture The Flag</strong> - C∆∞·ªõp c·ªù) l√† m·ªôt cu·ªôc thi ki·∫øn th·ª©c chuy√™n s√¢u v·ªÅ b·∫£o m·∫≠t m√°y t√≠nh. Thay v√¨ t·∫•n c√¥ng l·∫´n nhau, ng∆∞·ªùi ch∆°i s·∫Ω ƒë√≥ng vai hacker ƒë·ªÉ t√¨m ra c√°c l·ªói b·∫£o m·∫≠t trong h·ªá th·ªëng ƒë∆∞·ª£c d·ª±ng s·∫µn.</p>

        <h3>2. M·ª•c ƒë√≠ch c·ªßa CTF:</h3>
        <ul>
            <li>R√®n luy·ªán t∆∞ duy logic v√† k·ªπ nƒÉng gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ.</li>
            <li>H·ªçc c√°c k·ªπ thu·∫≠t t·∫•n c√¥ng v√† ph√≤ng th·ªß m·∫°ng th·ª±c t·∫ø.</li>
            <li>Hi·ªÉu r√µ c√°ch v·∫≠n h√†nh c·ªßa Website, M√£ h√≥a, H·ªá ƒëi·ªÅu h√†nh...</li>
        </ul>

        <h3>3. C√°ch ch∆°i:</h3>
        <ul>
            <li>Nhi·ªám v·ª• c·ªßa b·∫°n l√† t√¨m ra m·ªôt ƒëo·∫°n vƒÉn b·∫£n b√≠ m·∫≠t g·ªçi l√† <strong>"Flag"</strong>.</li>
            <li>Flag th∆∞·ªùng c√≥ ƒë·ªãnh d·∫°ng chu·∫©n. V√≠ d·ª• trong game n√†y l√†: <code>CTF{noi_dung_bi_mat}</code>.</li>
            <li>Sau khi t√¨m th·∫•y, h√£y copy v√† d√°n v√†o √¥ nh·∫≠p ƒë√°p √°n ƒë·ªÉ ghi ƒëi·ªÉm.</li>
        </ul>
    </div>
    <div class="challenge">
        <h3>Level 1: Th√¥ng tin l·ªô l·ªçt tr√™n URL</h3>
        <p>Hacker lu√¥n ki·ªÉm tra thanh ƒë·ªãa ch·ªâ (URL) ƒë·∫ßu ti√™n. ƒê√¥i khi c√°c tham s·ªë quan tr·ªçng l·∫°i b·ªã hi·ªán r√µ ngay tr∆∞·ªõc m·∫Øt.</p>
        <p><em>üí° G·ª£i √Ω: URL.</em></p>
        
        <div>
            <input type="text" id="ans1" placeholder="Nh·∫≠p Flag (V√≠ d·ª•: CTF{...})">
            <button id="btn1" onclick="check(1)">Ki·ªÉm tra</button>
        </div>
        <div id="res1" class="result"></div>
    </div>

    <div class="challenge">
        <h3>Level 2: B√≠ m·∫≠t trong Source Code</h3>
        <p>Giao di·ªán web ch·ªâ l√† t·∫£ng bƒÉng n·ªïi. HTML (Source code) ph√≠a sau m·ªõi ch·ª©a ƒë·ª±ng s·ª± th·∫≠t.</p>
        <p><em>üí° G·ª£i √Ω: M√£ ngu·ªìn c·ªßa trang. Tr√™n m√°y t√≠nh, chu·ªôt ph·∫£i ch·ªçn "View page source" ƒë·ªÉ t√¨m.</em></p>

        <div class="video-wrapper">
            <p style="margin: 0 0 10px 0; color: #8b949e; font-size: 0.9em;">üé• Video h∆∞·ªõng d·∫´n d√†nh cho ƒëi·ªán tho·∫°i</p>
            <video controls>
                <source src="video.mp4" type="video/mp4">
                Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ th·∫ª video ho·∫∑c file video.mp4 kh√¥ng t·ªìn t·∫°i.
            </video>
        </div>
        
        <div>
            <input type="text" id="ans2" placeholder="Nh·∫≠p Flag t√¨m ƒë∆∞·ª£c...">
            <button id="btn2" onclick="check(2)">Ki·ªÉm tra</button>
        </div>
        <div id="res2" class="result"></div>
    </div>

    <a href="CTF3.html" class="next-level-btn">üëâ TI·∫æP T·ª§C ƒê·∫æN LEVEL 3</a>
</div>

<script>
    const answers = {
        1: "CTF{nhin_len_thanh_url_ki}",
        2: "CTF{html_source_code_is_fun}"
    };

    // --- LOGIC CH√çNH ---
    window.onload = function() {
        const urlParams = new URLSearchParams(window.location.search);
        if (!urlParams.has('token')) {
            var newurl = window.location.protocol + "//" + window.location.host + window.location.pathname + '?token=CTF{nhin_len_thanh_url_ki}';
            window.history.pushState({path:newurl},'',newurl);
        }

        loadProgress();
    };

    function check(level) {
        let input = document.getElementById('ans'+level).value.trim();
        let resBox = document.getElementById('res'+level);
        

        if (input === answers[level]) {
            markSolved(level);
        } else {
            resBox.innerHTML = "Sai r·ªìi! ‚ùå H√£y th·ª≠ l·∫°i.";
            resBox.className = "result wrong";
            
            document.getElementById('ans'+level).style.borderColor = "#f85149";
            setTimeout(() => { 
                document.getElementById('ans'+level).style.borderColor = "#30363d"; 
            }, 500);
        }
    }

    function markSolved(level) {
        localStorage.setItem('ctf_level_' + level, 'solved');
        updateUI(level);
    }

    function updateUI(level) {
        let input = document.getElementById('ans' + level);
        let btn = document.getElementById('btn' + level);
        let resBox = document.getElementById('res' + level);

        input.value = answers[level];
        input.classList.add('solved');
        input.disabled = true; 
        
        btn.innerText = "ƒê√£ xong";
        btn.disabled = true;   
        
        resBox.innerHTML = "Ch√≠nh x√°c! ‚úÖ Code ƒë√∫ng l√†: " + answers[level];
        resBox.className = "result correct";
    }

    function loadProgress() {
        for (let i = 1; i <= 2; i++) {
            if (localStorage.getItem('ctf_level_' + i) === 'solved') {
                updateUI(i);
            }
        }
    }

    function resetGame() {
        if(confirm("B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a to√†n b·ªô ti·∫øn ƒë·ªô ch∆°i kh√¥ng?")) {
            localStorage.clear();
            location.reload();
        }
    }
</script>

</body>

</html>


